<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/svg+xml" href="./favicon.webp">
    <title id="TITLE">ZTE-UFI-TOOLS-WEB</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/style/style.css">
    <script src="/script/polyfill.min.js"></script>
    <script src="/script/requests.js"></script>
    <script src="/script/lib/crypto.js"></script>
    <script src="/script/lib/sortable.js"></script>
    <script src="/script/lib/filesaver.js"></script>
    <script src="/script/lib/chart.js"></script>

    <script>
        const baseSize = 14;
        const minScale = 0.9;
        const maxScale = 1.2;

        function setRem() {
            const width = document.documentElement.clientWidth;
            let scale = width / 375;
            // Limit scaling range
            if (scale < minScale) scale = minScale;
            if (scale > maxScale) scale = maxScale;
            document.documentElement.style.fontSize = (baseSize * scale) + 'px';
        }
        setRem();
        window.addEventListener('resize', setRem);
    </script>
</head>

<body id="BG">
    <div class="bg" id="BG_OVERLAY">
        <div class="container">
            <div class="title main-title" onclick="enableTTYD()">
                <strong id="MAIN_TITLE">UFI-TOOLS</strong>
                <span style="font-size: 14px;" data-i18n="device"></span>:<strong id="MODEL"
                    style="font-size: 14px;"></strong>
            </div>
            <!-- Action buttons -->
            <div class="title" id="collapseBtn_menu"
                style="align-self: start;justify-self: start;margin: 6px;margin-left: 0;margin-top: 0;">
                <strong style="white-space: nowrap;" data-i18n="func_list">Function List</strong>
                <!-- <button id="CLPS">Function List</button> -->
            </div>
            <div class="functions-container actions collapse collapse_menu" data-name="close">
                <div style="margin: auto;">
                    <div class="collapse_box actions-buttons">
                        <button id="CLEAR" class="btn" data-i18n="login_btn">Login/Logout</button>
                        <button class="btn REFRESH_BTN" data-i18n="stop_refresh">Stop Refresh</button>
                        <button id="CHANGETOKEN" class="btn" data-i18n="change_token"
                            onclick="createToast(t('please_login'),'red')">Change Token</button>
                        <button id="CHANGEPWD" class="btn" data-i18n="change_password"
                            onclick="createToast(t('please_login'),'red')">Change Password</button>
                        <button id="REBOOT" class="btn" data-i18n="reboot"
                            onclick="createToast(t('please_login'),'red')">Reboot Device</button>
                        <button id="SCHEDULE_REBOOT" class="btn" data-i18n="schedule_reboot"
                            onclick="createToast(t('please_login'),'red')">Scheduled Reboot</button>
                        <button id="SHUTDOWN" style="display: none;" class="btn" data-i18n="shutdown"
                            onclick="createToast(t('please_login'),'red')">Shutdown</button>
                        <button id="BG_SETTING" class="btn" data-i18n="bg_setting"
                            onclick="createToast(t('please_login'),'red')">Theme Background</button>
                        <button id="PLUGIN_SETTING" class="btn" data-i18n="plugin_setting"
                            onclick="createToast(t('please_login'),'red')">Plugins</button>
                        <div style="display: inline-block;position: relative;">
                            <div class="tip" style="display: none;" id="UNREAD_SMS">0</div>
                            <button id="SMS" class="btn" data-i18n="sms">SMS</button>
                        </div>
                        <button id="DataManagement" class="btn" data-i18n="data_mgmt">Data Management</button>
                        <button id="SpeedTestBtn" class="btn" data-i18n="speed_test"
                            onclick="showModal('#speedTestModal')">LAN Speed Test</button>
                        <button id="CellularSpeedTestBtn" class="btn" data-i18n="cellular_speed_test"
                            onclick="createToast(t('please_login'),'red')">Cellular Speed Test</button>
                        <button id="ClientManagement" class="btn" data-i18n="client_mgmt">Client Devices</button>
                        <button id="WIFIManagement" class="btn" data-i18n="wifi_mgmt">WiFi Settings</button>
                        <button id="LANManagement" class="btn" data-i18n="lan_mgmt">LAN Settings</button>
                        <button id="AT" class="btn" data-i18n="at_cmd"
                            onclick="createToast(t('please_login'),'red')">AT Commands</button>
                        <button id="ADVANCE" class="btn" data-i18n="advanced"
                            onclick="createToast(t('please_login'),'red')">Advanced</button>
                        <button id="CECULLAR" class="btn" data-i18n="cellular"
                            onclick="createToast(t('please_login'),'red')">Cellular</button>
                        <button id="ADB" class="btn" data-i18n="adb"
                            onclick="createToast(t('please_login'),'red')">USB Debugging</button>
                        <button id="ADB_NET" class="btn" data-i18n="adb_autostart"
                            onclick="createToast(t('please_login'),'red')">ADB Autostart</button>
                        <button id="PERF" class="btn" data-i18n="performance_mode"
                            onclick="createToast(t('please_login'),'red')">Performance Mode</button>
                        <button id="LIGHT" class="btn" data-i18n="indicator"
                            onclick="createToast(t('please_login'),'red')">Indicator</button>
                        <button id="NFC" style="display: none;" class="btn" data-i18n="nfc"
                            onclick="createToast(t('please_login'),'red')">NFC</button>
                        <button id="SMB" class="btn" data-i18n="file_sharing"
                            onclick="createToast(t('please_login'),'red')">File Sharing</button>
                        <button id="ROAM" class="btn" data-i18n="network_roam"
                            onclick="createToast(t('please_login'),'red')">Network Roaming</button>
                        <button id="smsForward" class="btn" data-i18n="sms_forward"
                            onclick="createToast(t('please_login'),'red')">SMS Forwarding</button>
                        <button id="ScheduledTaskManagement" class="btn" data-i18n="scheduled_task"
                            onclick="createToast(t('please_login'),'red')">Scheduled Tasks</button>
                        <button id="APNManagement" data-i18n="apn_setting" class="btn"
                            onclick="createToast(t('please_login'),'red')">APN Settings</button>
                        <button id="USBStatusManagement" data-i18n="usb_status" class="btn"
                            onclick="createToast(t('please_login'),'red')">USB Status</button>

                        <select class="select" style="display: none;" id="SLEEP_TIME" onchange="changeSleepTime(event)">
                            <option value="-1" data-i18n="sleep_never">Never Sleep</option>
                            <option value="5" data-i18n="sleep_5_min">5 minutes</option>
                            <option value="10" data-i18n="sleep_10_min">10 minutes</option>
                            <option value="20" data-i18n="sleep_20_min">20 minutes</option>
                            <option value="30" data-i18n="sleep_30_min">30 minutes</option>
                            <option value="60" data-i18n="sleep_1_hr">1 hour</option>
                            <option value="120" data-i18n="sleep_2_hr">2 hours</option>
                        </select>

                        <select class="select" id="NET_TYPE" onchange="changeNetwork(event)">
                            <option value="WL_AND_5G" data-i18n="net_auto">5G/4G/3G</option>
                            <option value="LTE_AND_5G" data-i18n="net_nsa">5G NSA</option>
                            <option value="Only_5G" data-i18n="net_sa">5G SA</option>
                            <option value="WCDMA_AND_LTE" data-i18n="net_4g_3g">4G/3G</option>
                            <option value="Only_LTE" data-i18n="net_4g">4G Only</option>
                            <option value="Only_WCDMA" data-i18n="net_3g">3G Only</option>
                        </select>

                        <select class="select" id="USB_TYPE" onchange="changeUSBNetwork(event)">
                            <option value="0" data-i18n="usb_auto">USB Tethering: Auto</option>
                            <option value="1" data-i18n="usb_rndis">RNDIS</option>
                            <option value="2" data-i18n="usb_cdc">CDC-ECM</option>
                        </select>

                        <select class="select" id="SIM_CARD_TYPE" style="display: none;"
                            onchange="changeSimCard(event)">
                            <option value="0" data-i18n="sim1">SIM1</option>
                            <option value="1" data-i18n="sim2">SIM2</option>
                        </select>

                        <select class="select" id="SIM_CARD_TYPE_V50" style="display: none;"
                            onchange="changeSimCard(event)">
                            <option value="0" data-i18n="sim1_v50">Mobile</option>
                            <option value="1" data-i18n="sim2_v50">Telecom</option>
                            <option value="2" data-i18n="sim3_v50">Unicom</option>
                            <option value="11" data-i18n="sim4_v50">External</option>
                        </select>

                        <select class="select" id="LANG"></select>
                    </div>
                </div>
            </div>
            <!-- Device monitor -->
            <div class="devices-mon">
                <div class="title" style="margin: 6px 0;">
                    <strong data-i18n="device_mon">Device Monitor</strong>
                    <div style="display: inline-block;" id="collapse_device_mon_btn"></div>
                </div>
                <div class="collapse" id="collapse_device_mon">
                    <div class="collapse_box">
                        <div style="overflow: auto;position: relative">
                            <div class="charts">
                                <div class="chart statusCard" style="max-width: 200px;height: 60px;">
                                    <canvas style="margin-left: -4px;" id="kanoCpuChart"></canvas>
                                </div>
                                <div class="chart statusCard"
                                    style="position: relative;;max-width: 200px;height: 60px;">
                                    <span
                                        style="position: absolute;z-index: 0;;top: 4px;left: 50%;transform: translateX(-50%);font-size: 12px;"
                                        data-i18n="core_usage">Core Usage</span>
                                    <canvas style="margin-left: -4px;" id="kanoCpuCoreChart"></canvas>
                                </div>
                                <div class="cpu-card chart statusCard">
                                    <span
                                        style="position: absolute;top: 2px;left: 50%;transform: translateX(-50%);font-size: 12px;"
                                        data-i18n="cpu_freq">CPU Frequency (MHz)</span>
                                    <div class="card-inner" id="cpuFreqList">
                                    </div>
                                </div>
                                <div class="chart statusCard" style="max-width: 200px;height: 60px;"
                                    onclick="showModal('#memInfoModal')">
                                    <canvas style="margin-left: -4px;" id="kanoMemChart"></canvas>
                                </div>
                                <div class="chart statusCard" onclick="showModal('#cpuTempInfoModal')"
                                    style="max-width: 200px;height: 60px;">
                                    <canvas style="margin-left: -4px;" id="kanoTempChart"></canvas>
                                </div>
                                <div class="chart statusCard net-card" style="width: 200px;height: 60px;">
                                    <canvas style="margin-left: -14px;" id="kanoNetChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Status -->
            <div class="status-container">
                <div class="title" style="margin: 6px 0;">
                    <strong data-i18n="base_info">Basic Status</strong>
                    <div style="display: inline-block;" id="collapse_status_btn"></div>
                </div>
                <div class="collapse" id="collapse_status">
                    <div class="collapse_box">
                        <div style="overflow: auto;position: relative">
                            <div class="title" style="margin-bottom: 6px;">
                                <button id="DICTIONARY" class="btn" style="padding: 4px;margin-left: 0;"
                                    data-i18n="manage_fields">Manage Fields</button>
                                <button class="btn REFRESH_BTN" style="padding: 4px;margin-left: 10px;"
                                    data-i18n="stop_refresh">Stop Refresh</button>
                                <select class="select" id="refreshRateSelect" onchange="changeRefreshRate(event)"
                                    style="padding: 3px;margin-left: 10px;">
                                    <option value="5000" data-i18n="refresh_5s">5s</option>
                                    <option value="3000" data-i18n="refresh_3s">3s</option>
                                    <option value="2500" data-i18n="refresh_2_5s">2.5s</option>
                                    <option value="2000" data-i18n="refresh_2s">2s</option>
                                    <option value="1900" data-i18n="refresh_1_9s">1.9s</option>
                                    <option value="1700" data-i18n="refresh_1_7s">1.7s</option>
                                    <option value="1500" data-i18n="refresh_1_5s">1.5s</option>
                                    <option value="1300" data-i18n="refresh_1_3s">1.3s</option>
                                    <option value="1000" data-i18n="refresh_1s">1s</option>
                                    <option value="900" data-i18n="refresh_0_9s">0.9s</option>
                                    <option value="800" data-i18n="refresh_0_8s">0.8s</option>
                                    <option value="700" data-i18n="refresh_0_7s">0.7s</option>
                                    <option value="600" data-i18n="refresh_0_6s">0.6s</option>
                                    <option value="500" data-i18n="refresh_0_5s">0.5s</option>
                                    <option value="400" data-i18n="refresh_0_4s">0.4s</option>
                                    <option value="300" data-i18n="refresh_0_3s">0.3s</option>
                                    <option value="200" data-i18n="refresh_0_2s">0.2s</option>
                                    <option value="100" data-i18n="refresh_0_1s">0.1s</option>
                                </select>
                            </div>
                            <ul class="deviceList" id="STATUS">
                                <li style="padding-top: 15px;">
                                    <strong class="green"
                                        style="margin: 10px auto;margin-top: 0; display: flex;flex-direction: column;padding: 40px;">
                                        <span style="font-size: 50px;" class="spin">ðŸŒ€</span>
                                        <span style="font-size: 16px;padding-top: 10px;">loading...</span>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TTYD -->
            <div id="TTYD" style="display: none;width: 100%;margin-top: 10px;">
                <div class="title" style="margin: 6px 0 ;">
                    <strong>TTYD</strong>
                    <div style="display: inline-block;" id="collapse_ttyd_btn"></div>
                </div>
                <div class="collapse" id="collapse_ttyd">
                    <div class="collapse_box">
                        <ul class="deviceList">
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Band lock -->
            <div class="freq-lock-container">
                <div class="title" style="margin: 6px 0 ;">
                    <strong data-i18n="lock_band_title">ðŸ”’ Lock Bands</strong>
                    <div style="display: inline-block" id="collapse_lkband_btn"></div>
                </div>
                <div class="collapse" id="collapse_lkband" style="overflow: visible;margin: 10px 0">
                    <div class="collapse_box">
                        <form class="bands" id="bandsForm" onsubmit="submitBandForm(event)">
                            <table class="nice-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllBand"></th>
                                        <th>Band</th>
                                        <th data-i18n="col_freq_range">Frequency Range (MHz)</th>
                                        <th data-i18n="col_mode">Mode</th>
                                        <th data-i18n="col_operator">Carrier</th>
                                    </tr>
                                </thead>
                                <tbody id="bandTable">
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="1"></td>
                                        <td>B1</td>
                                        <td>2100</td>
                                        <td>FDD-LTE</td>
                                        <td data-i18n="carrier_unicom_telecom">Unicom/Telecom</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="3"></td>
                                        <td>B3</td>
                                        <td>1800</td>
                                        <td>FDD-LTE</td>
                                        <td data-i18n="carrier_all">Big 3 Carriers</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="5"></td>
                                        <td>B5</td>
                                        <td>850</td>
                                        <td>FDD-LTE</td>
                                        <td data-i18n="carrier_telecom">Telecom</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="8"></td>
                                        <td>B8</td>
                                        <td>900</td>
                                        <td>FDD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="34"></td>
                                        <td>B34</td>
                                        <td>2000</td>
                                        <td>TD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="38"></td>
                                        <td>B38</td>
                                        <td>2600</td>
                                        <td>TD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="39"></td>
                                        <td>B39</td>
                                        <td>1900</td>
                                        <td>TD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="40"></td>
                                        <td>B40</td>
                                        <td>2300</td>
                                        <td>TD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="4G" data-band="41"></td>
                                        <td>B41</td>
                                        <td>2500â€“2690</td>
                                        <td>TD-LTE</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="1"></td>
                                        <td>N1</td>
                                        <td>1920â€“1980 / 2110â€“2170</td>
                                        <td>FDD</td>
                                        <td data-i18n="carrier_unicom_telecom">Unicom/Telecom</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="5"></td>
                                        <td>N5</td>
                                        <td>824â€“849 / 869â€“894</td>
                                        <td>FDD</td>
                                        <td data-i18n="carrier_telecom">Telecom</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="8"></td>
                                        <td>N8</td>
                                        <td>880â€“915 / 925â€“960</td>
                                        <td>FDD</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="28"></td>
                                        <td>N28</td>
                                        <td>703â€“748 / 758â€“803</td>
                                        <td>FDD</td>
                                        <td data-i18n="carrier_broadcast_mobile">Broadcast/Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="41"></td>
                                        <td>N41</td>
                                        <td>2515â€“2675</td>
                                        <td>TDD</td>
                                        <td data-i18n="carrier_mobile">Mobile</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" data-type="5G" data-band="78"></td>
                                        <td>N78</td>
                                        <td>3300â€“3600</td>
                                        <td>TDD</td>
                                        <td data-i18n="carrier_unicom_telecom">Unicom/Telecom</td>
                                    </tr>
                                </tbody>
                            </table>
                            <button id="lockBandBtn" type="submit" class="btn"
                                style="width: 100%;margin-top: 6px;padding: 8px;font-size: 14px;"
                                data-i18n="btn_lock_band">Lock Bands!</button>
                        </form>
                        <button onclick="unlockAllBand()" class="btn"
                            style="width: 100%;margin-top: 6px;padding: 8px;font-size: 14px;"
                            data-i18n="btn_unlock_band">Unlock Bands!</button>
                    </div>
                </div>
                <div class="title" style="margin: 6px 0; margin-top: 10px;">
                    <strong data-i18n="lock_cell_title">ðŸ”’ Lock Cell</strong>
                    <div style="display: inline-block;" id="collapse_lkcell_btn"></div>
                </div>
                <div class="collapse" id="collapse_lkcell" style="overflow: visible;margin: 10px 0;margin-top: 20px;">
                    <div class="collapse_box">
                        <p class="title"><i style="font-size: 12px;" data-i18n="cell_tip">ðŸš€ Warning: choosing the wrong cell may cause unstable signal/no signal.
                                ðŸš€</i></p>
                        <div class="title" style="margin: 10px 0 ;margin-top: 20px;"><strong
                                data-i18n="locked_cell">Locked Cell</strong></div>
                        <table class="nice-table" id="LOCKED_CELL_FORM">
                            <thead>
                                <tr>
                                    <th data-i18n="network_type">Type</th>
                                    <th>PCI</th>
                                    <th data-i18n="network_freq">Frequency</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                        <div class="title" style="margin: 10px 0 ;">
                            <strong data-i18n="cell_list">Cell List</strong>
                            <button class="btn" data-toggle="1" id="lkCellRefreshBtn"
                                onclick="toggleCellInfoRefresh(event)" style="padding: 4px;margin-left: 10px;"
                                data-i18n="stop_refresh">Stop Refresh</button>
                        </div>
                        <div class="title" id="CURRENT_CELL" style="display: block;margin: 10px 0;font-size:14px">
                            <strong>Current Cell Info:</strong>
                        </div>
                        <form id="cellForm" onsubmit="submitCellForm(event)" style="overflow-x: auto;">
                            <table class="nice-table">
                                <thead>
                                    <tr>
                                        <th data-i18n="network_band">Band</th>
                                        <th data-i18n="network_freq">Frequency</th>
                                        <th>PCI</th>
                                        <th>RSRP</th>
                                        <th>SINR</th>
                                        <th>RSRQ</th>
                                    </tr>
                                </thead>
                                <tbody>

                                </tbody>
                            </table>
                            <div style="display: flex;align-items: center; padding: 8px;margin-top: 10px;">
                                <strong data-i18n="network_select">Network Select:</strong>
                                <label style="display: flex;align-items: center;margin-right: 20px;"><span>4G
                                    </span>
                                    <input style="margin: 0 0 0 8px;" type="radio" name="RAT" value="12" />
                                </label>
                                <label style="display: flex;align-items: center;"><span>5G </span>
                                    <input style="margin: 0 0 0 8px;" checked type="radio" name="RAT" value="16" />
                                </label>
                            </div>
                            <div style="margin: 10px;">
                                <input style="padding: 8px; width: 100%" id="PCI" name="PCI" type="text"
                                    placeholder="PCI">
                            </div>
                            <div style="margin: 10px;">
                                <input style="padding: 8px; width: 100%;" id="EARFCN" name="EARFCN" type="text"
                                    placeholder="EARFCN">
                            </div>
                            <button type="submit" class="btn"
                                style="margin-top: 6px;;width: 100%;padding: 8px;font-size: 14px;"
                                data-i18n="btn_lock_cell">Lock Cell!</button>
                        </form>
                        <button onclick="unlockAllCell()" class="btn"
                            style="margin-top: 6px;;width: 100%;padding: 8px;font-size: 14px;"
                            data-i18n="btn_unlock_cell">Unlock Cell</button>
                    </div>
                </div>
            </div>
            <!-- Login modal -->
            <div class="mask" id="tokenModal" style="display: none">
                <div class="modal" style="width: 90vw;max-width: 450px;">
                    <div class="title" style="display: flex;justify-content: space-between;">
                        <span data-i18n="token_title">Please enter token and password</span>
                        <button style="border-radius: 50%;" onclick="showLoginHelp()">?</button>
                    </div>
                    <div class="title" style="margin: 10px 0;">
                        <p style="font-size: 12px;margin: 0;">
                            <i>
                                <span data-i18n="token_note_1">Note: please enter the token and password.</span><br>
                                <span data-i18n="token_note_2">The first one is the UFI-TOOLS login token (default: admin).</span><br>
                                <span data-i18n="token_note_3">The second one is the ZTE web admin password (usually on the device label).</span><br>
                                <span data-i18n="token_note_4">If you get a password error, try another login method.</span>
                            </i>
                        </p>
                    </div>
                    <form class="content"
                        style="padding: 0px 4px 0 4px;display: flex;flex-direction: column;align-items: center;">
                        <input type="text" name="username" autocomplete="username" style="display: none;">
                        <select style="width: 100%;margin-bottom: 10px;" class="select" name="" value="1"
                            id="login_method">
                            <option value="1" data-i18n="login_method_1">Login Method 1</option>
                            <option value="0" data-i18n="login_method_2">Login Method 2</option>
                        </select>
                        <div style="align-self: start;margin-bottom: 10px;font-size: .85rem;" data-i18n="token_div_1">UFI Token:</div>
                        <input name="backend_password" autocomplete="current-password" id="TOKEN" type="password"
                            data-i18n-placeholder="token_placeholder_token" placeholder="Token (see in the UFI-TOOLS backend app)"
                            style="width: 100%;text-indent: .5em;margin:0 4px;margin-bottom: 10px;height: 30px;">
                        <div style="align-self: start;margin-bottom: 10px;font-size: .85rem;" data-i18n="token_div_2">ZTE Web Admin Password:</div>
                            <input name="web_password" autocomplete="new-password" id="PWDINPUT" type="password"
                            data-i18n-placeholder="token_placeholder_pwd" placeholder="Official web admin password"
                            style="width: 100%;text-indent: .5em; margin:0 4px;margin-bottom: 20px;height: 30px;">
                    </form>
                    <div class="btn" style="text-align: right;">
                        <button data-i18n="confirm_btn" onclick="onTokenConfirm()">Confirm</button>
                        <button data-i18n="cancel_btn" onclick="closeModal('#tokenModal')">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- SMS modal -->
            <div class="modal" id="smsList" style="display: none;">
                <div class="title" data-i18n="sms_modal_title" style="margin-bottom: 6px;">SMS List</div>
                <div class="action" style="margin-top: 10px;background-color: #00ffdd17;">
                    <span data-i18n="sms_modal_recipient">Recipient:</span>
                    <input id="PhoneInput" type="number" style="flex: 1;margin-right: 6px" placeholder="Phone Number"
                        data-i18n-placeholder="sms_modal_input_recipient">
                </div>

                <div class="content" id="content" style="flex: 1;">
                    <ul id="sms-list"></ul>
                </div>

                <div class="action" style="background-color: #00ffdd17;">
                    <input id="SMSInput" type="text" style="flex: 1;margin-right: 6px" placeholder="Enter message"
                        data-i18n-placeholder="sms_modal_input_content">
                    <div class="btn"
                        style="height: 100%;min-width: 103px;display: flex;justify-content: center;align-items: center;">
                        <button onclick="sendSMS()" style="margin-right: 6px;height: 100%;"
                            data-i18n="sms_modal_send_btn">Send</button>
                        <button onclick="closeModal('#smsList')" style="height: 100%;"
                            data-i18n="sms_modal_close_btn">Close</button>
                    </div>
                </div>
            </div>
            <!-- CPU temperature modal -->
            <div class="modal" id="cpuTempInfoModal" style="width: 77%;max-width: 300px;display: none">
                <div class="title" data-i18n="temperature_info">Temperature Info</div>
                <div class="content" style="max-height: 350px;padding: 15px 0px 0 0px;">
                    <div id="cpuTempInfo"
                        style="font-size: 12px;display: grid;grid-template-columns: 1fr 1fr;gap: 8px;justify-content: space-between;white-space: nowrap;">
                    </div>
                </div>
                <div class="btn" style="text-align: right;">
                    <button onclick="closeModal('#cpuTempInfoModal')">Close</button>
                </div>
            </div>
            <!-- Memory modal -->
            <div class="modal" id="memInfoModal" style="width: 77%;max-width: 300px;display: none">
                <div class="title" data-i18n="ram_info">Memory Info</div>
                <div class="content" style="padding: 15px 4px 0 4px;">
                    <div id="memInfo" style="font-size:14px;display: flex;flex-direction: column;gap: 6px;">
                    </div>
                </div>
                <div class="btn" style="text-align: right;">
                    <button onclick="closeModal('#memInfoModal')">Close</button>
                </div>
            </div>
            <!-- Status field manager modal -->
            <div id="dictionaryModal" class="modal" style="display: none;width: 90%;max-width: 400px;">
                <div class="title" data-i18n="status_modal_title">Status Show/Hide</div>
                <p style="font-size: 12px;">
                    <i data-i18n="status_modal_tip">Note: unsupported/empty fields will not be shown even if selected. If some fields do not show, you can reset fields or clear browser data.</i>
                </p>
                <div class="content" id="DIC_LIST"
                    style="overflow-y: scroll; max-height:400px; padding-top: 15px; margin-bottom: 10px; display: flex; flex-direction: column; align-items: start; font-size: 14px;">
                    <div class="title" style="margin: 10px 0;" data-i18n="status_section_basic">Basic Status</div>
                    <ul class="drag" id="draggable_status">
                        <li draggable="true"><label><input type="checkbox" data-name="QORS_MESSAGE"><span
                                    data-i18n="QORS_MESSAGE">QCI Level</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="network_type"><span
                                    data-i18n="cellular_type">Cellular Status</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="wifi_access_sta_num"><span
                                    data-i18n="wifi_access_sta_num">WiFi Devices</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="battery"><span
                                    data-i18n="battery">Battery</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="rssi"><span
                                    data-i18n="rssi">Cellular Signal Strength</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="cpu_temp"><span
                                    data-i18n="cpu_temp">CPU Temperature</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="cpu_usage"><span
                                    data-i18n="cpu_usage">CPU Usage</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="mem_usage"><span
                                    data-i18n="mem_usage">Memory Usage</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="realtime_time"><span
                                    data-i18n="realtime_time">Connection Time</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="monthly_tx_bytes"><span
                                    data-i18n="monthly_tx_bytes">Traffic Usage</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="daily_data"><span
                                    data-i18n="daily_data">Today's Data</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="current_now"><span
                                    data-i18n="current_now">Battery Current</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="voltage_now"><span
                                    data-i18n="voltage_now">Battery Voltage</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="realtime_rx_thrpt"><span
                                    data-i18n="realtime_rx_thrpt">Real-time Speed</span></label></li>
                    </ul>

                    <div class="title" style="margin: 10px 0;" data-i18n="status_section_signal">Signal Parameters</div>
                    <ul class="drag" id="draggable_signal">
                        <li draggable="true"><label><input type="checkbox" data-name="Z5g_rsrp"><span
                                    data-i18n="Z5g_rsrp">5G RSRP</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_snr"><span
                                    data-i18n="Nr_snr">5G SINR</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_bands"><span
                                    data-i18n="Nr_bands">5G Registered Bands</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_fcn"><span
                                    data-i18n="Nr_fcn">5G Channel</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_bands_widths"><span
                                    data-i18n="Nr_bands_widths">5G Bandwidth</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_pci"><span
                                    data-i18n="Nr_pci">5G PCI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="nr_rsrq"><span
                                    data-i18n="nr_rsrq">5G RSRQ</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="nr_rssi"><span
                                    data-i18n="nr_rssi">5G RSSI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Nr_cell_id"><span
                                    data-i18n="Nr_cell_id">5G Cell ID</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="lte_rsrp"><span
                                    data-i18n="lte_rsrp">4G RSRP</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_snr"><span
                                    data-i18n="Lte_snr">4G SINR</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_bands"><span
                                    data-i18n="Lte_bands">4G Registered Bands</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_fcn"><span
                                    data-i18n="Lte_fcn">4G Channel</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_bands_widths"><span
                                    data-i18n="Lte_bands_widths">4G Bandwidth</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_pci"><span
                                    data-i18n="Lte_pci">4G PCI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="lte_rsrq"><span
                                    data-i18n="lte_rsrq">4G RSRQ</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="lte_rssi"><span
                                    data-i18n="lte_rssi">4G RSSI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="Lte_cell_id"><span
                                    data-i18n="Lte_cell_id">4G Cell ID</span></label></li>
                    </ul>

                    <div class="title" style="margin: 10px 0;" data-i18n="status_section_device">Device Properties</div>
                    <ul class="drag" id="draggable_props">
                        <li draggable="true"><label><input type="checkbox" data-name="client_ip"><span
                                    data-i18n="client_ip">Client IP</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="model"><span
                                    data-i18n="model">Model</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="cr_version"><span
                                    data-i18n="cr_version">Version</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="iccid"><span
                                    data-i18n="iccid">ICCID</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="imei"><span
                                    data-i18n="imei">IMEI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="imsi"><span
                                    data-i18n="imsi">IMSI</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="ipv6_wan_ipaddr"><span
                                    data-i18n="ipv6_wan_ipaddr">IPv6 Address</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="lan_ipaddr"><span
                                    data-i18n="lan_ipaddr">LAN Gateway</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="mac_address"><span
                                    data-i18n="mac_address">MAC Address</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="msisdn"><span
                                    data-i18n="msisdn">Phone Number</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="internal_available_storage"><span
                                    data-i18n="internal_available_storage">Internal Storage</span></label></li>
                        <li draggable="true"><label><input type="checkbox" data-name="external_available_storage"><span
                                    data-i18n="external_available_storage">SD Card</span></label></li>
                    </ul>
                </div>
                <div class="btn" style="text-align: right;">
                    <button onclick="resetShowList(event)" data-i18n="reset_all">Reset (Select All)</button>
                    <button onclick="closeModal('#dictionaryModal')" data-i18n="close_btn">Close</button>
                </div>
            </div>
            <!-- Data Management Modal -->
            <div class="mask" id="DataManagementModal" style="display: none">
                <div class="modal">
                    <div class="title" data-i18n="data_manage_modal_title">Data Management</div>
                    <form onsubmit="handleDataManagementFormSubmit(event)" id="DataManagementForm">
                        <div class="content" id="DATA_MANAGE_LIST"
                            style="overflow-y: scroll;padding: 15px;width: 66vw;max-width: 400px;">
                            <div class="item">
                                <label style="display: flex;align-items: center;">
                                    <span data-i18n="data_manage_enable">Enable data management?</span>
                                    <input checked type="checkbox" name="data_volume_limit_switch">
                                </label>
                            </div>
                            <div class="item">
                                <label style="display: flex;align-items: center;">
                                    <span data-i18n="data_manage_clear_enable">Auto reset data usage?</span>
                                    <input checked type="checkbox" name="wan_auto_clear_flow_data_switch">
                                </label>
                            </div>
                            <div class="item" style="display: flex;">
                                <span style="font-size: 14px;" data-i18n="data_manage_plan_type">Plan Type:</span>
                                <label for="for_data" style="display: flex;align-items: center;">
                                    <span style="margin-right: 6px;" data-i18n="data_manage_plan_flow">Data</span>
                                    <input id="for_data" style="margin: 0;" type="radio" checked
                                        name="data_volume_limit_unit">
                                </label>
                            </div>
                            <div class="item">
                                <label style="display: flex;align-items: center;">
                                    <span data-i18n="data_manage_reset_day">Reset Day:</span>
                                    <input style="flex: 1;width: 100%;" name="traffic_clear_date" value="1"
                                        type="number" max="31" min="1" maxlength="2" placeholder="Reset day (1-31)"
                                        data-i18n-placeholder="data_manage_reset_day_placeholder">
                                </label>
                            </div>
                            <div class="item">
                                <label style="display: flex;align-items: center;">
                                    <span data-i18n="data_manage_alert_threshold">Alert Threshold:</span>
                                    <input style="flex: 1;width: 100%;" name="data_volume_alert_percent" value="80"
                                        type="number" maxlength="3" min="0" max="100" placeholder="Alert threshold (0-100%)"
                                        data-i18n-placeholder="data_manage_alert_threshold_placeholder">
                                    &nbsp;% (0-100%)
                                </label>
                            </div>
                            <div class="item">
                                <div style="display: flex;align-items: center">
                                    <span data-i18n="data_manage_plan_total">Plan Total:</span>
                                    <input style="flex:1;height: 100%;width: 100%;" type="text"
                                        name="data_volume_limit_size" value="100" placeholder="Plan total"
                                        data-i18n-placeholder="data_manage_plan_total_placeholder">
                                    <select class="select" style="padding: 4px; margin-left: 6px;" value="1024"
                                        name="data_volume_limit_type">
                                        <option data-value="1" value="1">MB</option>
                                        <option data-value="1024" value="1024">GB</option>
                                        <option data-value="1048576" value="1048576">TB</option>
                                    </select>
                                </div>
                            </div>
                            <div class="item">
                                <div style="display: flex;align-items: center;">
                                    <span data-i18n="data_manage_plan_used">Used Data:</span>
                                    <input style="flex:1;height: 100%;width: 100%;" type="text"
                                        name="data_volume_used_size" value="114" placeholder="Used data"
                                        data-i18n-placeholder="data_manage_plan_used_placeholder">
                                    <select class="select" style="padding: 4px; margin-left: 6px;" value="1024"
                                        name="data_volume_used_type">
                                        <option data-value="1" value="1">MB</option>
                                        <option data-value="1024" value="1024">GB</option>
                                        <option data-value="1048576" value="1048576">TB</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="btn" style="text-align: right;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" onclick="closeModal('#DataManagementModal')"
                                data-i18n="close_btn">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- WiFi Settings Modal -->
            <div class="mask" id="WIFIManagementModal" style="display: none">
                <div class="modal">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="wifi_title">WiFi Settings</div>
                    <form onsubmit="handleWIFIManagementFormSubmit(event)" id="WIFIManagementForm">
                        <div class="content" style="
                        overflow-y: scroll;
                        padding: 10px;
                        padding-bottom: 0;
                        margin-bottom: 20px;
                        width: 66vw;
                        max-width: 400px;">
                            <input style="display: none;" type="text" name="AccessPointIndex" value="0">
                            <input style="display: none;" type="text" name="ApIsolate" value="0">
                            <input style="display: none;" type="text" name="ChipIndex" value="0">
                            <div class="dash-border-round"
                                style="padding-top: 6px;padding-bottom: 6px;display: flex;justify-content: space-between;align-items: center;">
                                <select class="select" id="WIFI_SWITCH" onchange="changeWIFISwitch(event)">
                                    <option value="0" data-i18n="wifi_option_off">WiFi: Off</option>
                                    <option value="chip1" data-i18n="wifi_option_24g">WiFi: 2.4G</option>
                                    <option value="chip2" data-i18n="wifi_option_5g">WiFi: 5G</option>
                                </select>
                                <span style="display: inline; font-size: 10px; text-align: right;"
                                    data-i18n="wifi_hint_no_submit">This option applies immediately; no confirmation needed.</span>
                            </div>
                            <div id="wifiInfo">
                                <div class="dash-border-round">
                                    <div class="item">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span class="label-name" data-i18n="wifi_ssid_label">SSID:</span><input
                                                style="flex: 1;width: 100%;" name="SSID" value="" type="text"
                                                placeholder="Enter SSID"
                                                data-i18n-placeholder="wifi_ssid_placeholder"></label>
                                    </div>
                                    <div class="item">
                                        <label style="display: flex;align-items: center;"><span class="label-name"
                                                data-i18n="wifi_broadcast_label">Broadcast SSID:</span><input checked
                                                type="checkbox" name="ApBroadcastDisabled"></label>
                                    </div>
                                </div>
                                <div class="dash-border-round">
                                    <div class="item">
                                        <label style="
                                display: flex;
                                align-items: center;
                            ">
                                            <span class="label-name" data-i18n="wifi_security_label">Security Mode:</span>
                                            <select class="select" id="WIFI_ENC_MODE"
                                                onchange="handleWifiEncodeChange(event)"
                                                style="width: 100%;flex: 1;padding: 4px; margin-left: 6px;text-align: left;"
                                                value="OPEN" name="AuthMode">
                                                <option data-value="OPEN" value="OPEN" data-i18n="wifi_mode_open">OPEN
                                                </option>
                                                <option data-value="WPA2PSK" value="WPA2PSK" data-i18n="wifi_mode_wpa2">
                                                    WPA2(AES)-PSK</option>
                                                <option data-value="WPA3PSK" value="WPA3PSK" data-i18n="wifi_mode_wpa3">
                                                    WPA3-PSK</option>
                                                <option data-value="WPA2PSKWPA3PSK" value="WPA2PSKWPA3PSK"
                                                    data-i18n="wifi_mode_wpa2_wpa3">
                                                    WPA2-PSK/WPA3-PSK
                                                </option>
                                            </select>
                                        </label>
                                    </div>
                                </div>
                                <div id="WIFI_FORM_SHOWABLE">
                                    <div class="dash-border-round">
                                        <div class="item">
                                            <label style="
                                display: flex;
                                align-items: center;
                            "><span class="label-name" data-i18n="wifi_password_label">Password:</span><input
                                                    data-i18n-placeholder="wifi_password_placeholder" id="WIFI_PASSWORD"
                                                    style="flex: 1;width: 100%;" name="Password" value=""
                                                    type="password" autocomplete="none" placeholder="Minimum 8 characters"></label>
                                        </div>
                                        <div class="item">
                                            <label onclick="handleShowPassword(event)"
                                                style="display: flex;align-items: center;"><span class="label-name"
                                                    data-i18n="wifi_show_pwd_label">Show Password:</span><input
                                                    type="checkbox"></label>
                                        </div>
                                    </div>
                                    <div class="dash-border-round">
                                        <div class="item">
                                            <label style="display: flex;align-items: center;"><span class="label-name"
                                                    data-i18n="wifi_max_client_label">Max Clients:</span><input
                                                    style="flex: 1;width: 100%;" name="ApMaxStationNumber" value="10"
                                                    type="number" min="1" maxlength="8" placeholder="Max clients"
                                                    data-i18n-placeholder="wifi_max_client_placeholder"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="dash-border-round" style="text-align: center;">
                                    <div data-i18n="wifi_qrcode_label">QR Code</div>
                                    <div style="text-align: center">
                                        <img id="QRCodeImg" style="border-radius: 20px;" src="" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn" style="text-align: right;margin-top: 6px;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" data-i18n="close_btn"
                                onclick="closeModal('#WIFIManagementModal')">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- LAN Settings Modal -->
            <div class="mask" id="LANManagementModal" style="display: none">
                <div class="modal">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="lan_title">LAN Settings</div>
                    <form onsubmit="onLANModalSubmit(event)" id="LANManagementForm">
                        <div class="content" style="
                        overflow-y: scroll;
                        padding: 10px;
                        width: 66vw;
                        max-height: 100%;
                        max-width: 400px;
                        font-size: 14px;">
                            <div class="dash-border-round">
                                <div class="item">
                                    <label style="
                                display: flex;
                                align-items: center;
                            "><span class="label-name" data-i18n="lan_ip_label">Gateway Address:</span><input
                                            data-i18n-placeholder="lan_ip_placeholder"
                                            style="flex: 1;width: 100%;padding: 6px 4px; margin: 4px 2px" name="lanIp"
                                            type="text" placeholder="Enter router gateway address"></label>
                                </div>
                            </div>
                            <div class="dash-border-round">
                                <div class="item">
                                    <label style="
                                display: flex;
                                align-items: center;
                            "><span class="label-name" data-i18n="lan_netmask_label">Subnet Mask:</span><input
                                            data-i18n-placeholder="lan_netmask_placeholder"
                                            style="flex: 1;width: 100%;padding: 6px 4px; margin: 4px 2px"
                                            name="lanNetmask" type="text" placeholder="Enter subnet mask"></label>
                                </div>
                            </div>
                            <div class="dash-border-round">
                                <div class="item">
                                    <label style="display: flex;align-items: center;"><span class="label-name"
                                            style="padding: 6px 4px; margin: 4px 2px"
                                            data-i18n="lan_dhcp_label">DHCP Switch:</span>
                                        <div style="display: inline-block;" id="collapse_dhcp_switch"></div>
                                        <input style="display: none;" id="enableDHCP" value="SERVER" type="text"
                                            name="lanDhcpType">
                                    </label>
                                </div>
                            </div>
                            <div id="collapse_dhcp" class="collapse">
                                <div class="collapse_box">
                                    <div class="dash-border-round">
                                        <div class="item"
                                            style="display: flex;align-items: center;flex-direction: column;padding-top: 4px;">
                                            <span class="label-name" data-i18n="lan_dhcp_range_label">DHCP IP Pool</span>
                                            <input style="flex: 1;width: 100%;padding: 6px 4px; margin: 4px 2px"
                                                name="dhcpStart" type="text" placeholder="Start Address"
                                                data-i18n-placeholder="lan_dhcp_start_placeholder">
                                            <span style="transform: rotate(90deg);">&nbsp;->&nbsp;</span>
                                            <input style="flex: 1;width: 100%;padding: 6px 4px; margin: 4px 2px"
                                                name="dhcpEnd" type="text" placeholder="End Address"
                                                data-i18n-placeholder="lan_dhcp_end_placeholder">
                                        </div>
                                    </div>
                                    <div class="dash-border-round">
                                        <div class="item">
                                            <label style="
                                display: flex;
                                align-items: center;
                            "><span class="label-name" data-i18n="lan_dhcp_lease_label">DHCP Lease:</span><input
                                                    style="flex: 1;width: 100%;padding: 6px 4px; margin: 4px 2px;"
                                                    name="dhcpLease" type="number" min="1" placeholder="Lease (hours, e.g. 24)"
                                                    data-i18n-placeholder="lan_dhcp_lease_placeholder"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn" style="text-align: right;margin-top: 6px;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" data-i18n="close_btn"
                                onclick="closeModal('#LANManagementModal')">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- Client Management Modal -->
            <div class="mask" id="ClientManagementModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 600px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="client_mgmt_title">Client Management</div>
                    <ul class="deviceList" style="flex: 1; overflow-y: auto;">
                        <p style="display: flex;justify-content: space-between;">
                            <span data-i18n="client_mgmt_connected">Connected Devices</span>
                            <button style="margin-right: 10px;" class="btn" onclick="initClientManagementModal()"
                                data-i18n="common_refresh_btn">Refresh</button>
                        </p>
                        <li id="CONN_CLIENT_LIST"
                            style="padding:0 10px;box-sizing: border-box;width: 100%;overflow: hidden;">
                        </li>
                        <p data-i18n="client_mgmt_blacklist">Blacklist</p>
                        <li id="BLACK_CLIENT_LIST"
                            style="padding:0 10px;box-sizing: border-box;width: 100%;overflow: hidden;">
                        </li>
                    </ul>
                    <div class="btn" style="text-align: right;margin-top: 20px;">
                        <button type="button" onclick="closeClientManager()" data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>
            <!-- Scheduled Tasks Modal -->
            <div class="mask" id="ScheduledTasksModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 600px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="scheduled_tasks_title">Scheduled Tasks</div>
                    <span class="title" style="font-size:.64rem;font-style:italic"
                        data-i18n="scheduled_tasks_info"></span>
                    <div
                        style="display: flex;justify-content: space-between;align-items: center;font-size: 14px;margin: 10px 0;">
                        <span data-i18n="task_list_title">Task List</span>
                        <div>
                            <button class="btn" onclick="refreshTask()" data-i18n="refresh_btn">Refresh</button>
                            <button class="btn" onclick="addTask()" data-i18n="add_task_btn">Add Task</button>
                        </div>
                    </div>
                    <ul id="SCHEDULED_TASK_LIST" class="deviceList" style="flex: 1; overflow-y: auto;">

                    </ul>
                    <div class="btn" style="text-align: right;margin-top: 10px;">
                        <!-- <button type="submit">Submit</button> -->
                        <button type="button" onclick="closeModal('#ScheduledTasksModal')"
                            data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>
            <!-- Add/Edit task modal -->
            <div class="mask" id="AddTaskModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 600px;">
                    <div class="title" data-i18n="add_task_title">Task</div>
                    <form id="AddTaskForm" onsubmit="handleSubmitTask(event)"
                        style="margin-top: 10px;;display: flex; flex-direction: column; gap: 10px;font-size: 14px;">
                        <label><span data-i18n="task_name_label">Task Name:</span><input
                                style="min-width: 100px;padding: 6px 8px;" name="id" required /></label>
                        <label>
                            <span data-i18n="trigger_time_label">Trigger Time:</span><input
                                style="min-width: 100px;padding: 6px 8px;" name="date_time" type="time" required />
                        </label>
                        <label><span data-i18n="repeat_daily_label">Repeat daily: </span><input name="repeatDaily"
                                type="checkbox" /></label>
                        <label style="display: flex;flex-direction: column;"><span
                                data-i18n="action_param_label">Action Parameters (JSON): </span><textarea id="taskAction"
                                style="margin-top: 10px;" name="action" rows="6"></textarea></label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button class="btn" onclick="fillAction(event,'Indicator Light')" data-i18n="action_led">Indicator Light</button>
                            <button class="btn" onclick="fillAction(event,'NFC')" data-i18n="action_nfc">NFC</button>
                            <button class="btn" onclick="fillAction(event,'File Sharing')"
                                data-i18n="action_fileshare">File Sharing</button>
                            <button class="btn" onclick="fillAction(event,'Network Roaming')"
                                data-i18n="action_roaming">Network Roaming</button>
                            <button class="btn" onclick="fillAction(event,'Performance Mode')"
                                data-i18n="action_perfmode">Performance Mode</button>
                            <button class="btn" onclick="fillAction(event,'USB Debugging')"
                                data-i18n="action_usbdebug">USB Debugging</button>
                            <button class="btn" onclick="fillAction(event,'Enable Data')"
                                data-i18n="action_data_on">Enable Data</button>
                            <button class="btn" onclick="fillAction(event,'Disable Data')"
                                data-i18n="action_data_off">Disable Data</button>
                            <button class="btn" onclick="fillAction(event,'Disable WiFi')"
                                data-i18n="action_wifi_off">Disable WiFi</button>
                            <button class="btn" onclick="fillAction(event,'Enable WiFi (5G)')"
                                data-i18n="action_wifi_5g">Enable WiFi (5G)</button>
                            <button class="btn" onclick="fillAction(event,'Enable WiFi (2.4G)')"
                                data-i18n="action_wifi_24g">Enable WiFi (2.4G)</button>
                            <button class="btn" onclick="fillAction(event,'5G/4G/3G')"
                                data-i18n="action_net_543">5G/4G/3G</button>
                            <button class="btn" onclick="fillAction(event,'5G NSA')" data-i18n="action_net_5gnsa">5G
                                NSA</button>
                            <button class="btn" onclick="fillAction(event,'5G SA')" data-i18n="action_net_5gsa">5G
                                SA</button>
                            <button class="btn" onclick="fillAction(event,'4G Only')" data-i18n="action_net_4g">4G Only</button>
                            <button class="btn" onclick="fillAction(event,'Shutdown')"
                                data-i18n="action_shutdown">Shutdown (U30/M3 only)</button>
                            <button class="btn" onclick="fillAction(event,'Reboot')" data-i18n="action_reboot">Reboot</button>
                            <button class="btn" onclick="fillAction(event,'Unlock Cell')"
                                data-i18n="action_unlock_cell">Unlock Cell</button>
                            <button class="btn" onclick="fillAction(event,'Lock Cell')"
                                data-i18n="action_lock_cell">Lock Cell</button>
                            <button class="btn" onclick="fillAction(event,'Switch to SIM 1')"
                                data-i18n="action_sim1">Switch to SIM 1</button>
                            <button class="btn" onclick="fillAction(event,'Switch to SIM 2')"
                                data-i18n="action_sim2">Switch to SIM 2</button>
                            <button class="btn" onclick="fillAction(event,'Switch to China Mobile')" data-i18n="sim1_v50">Switch to China Mobile</button>
                            <button class="btn" onclick="fillAction(event,'Switch to China Unicom')" data-i18n="sim3_v50">Switch to China Unicom</button>
                            <button class="btn" onclick="fillAction(event,'Switch to China Telecom')" data-i18n="sim2_v50">Switch to China Telecom</button>
                            <button class="btn" onclick="fillAction(event,'Switch to External')" data-i18n="sim4_v50">Switch to External</button>
                        </div>
                        <div style="text-align: right">
                            <button type="submit" class="btn" data-i18n="submit_btn">Submit</button>
                            <button type="button" onclick="closeAddTask()" class="btn"
                                data-i18n="cancel_btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- Theme Background Modal -->
            <div class="modal" id="bgSettingModal"
                style="overflow: hidden;width: 90%;max-width: 400px; display: flex;flex-direction: column;display: none;">
                <div class="title" style="margin-bottom: 4px;" data-i18n="bg_setting_title">Theme Background Settings</div>
                <div class="content" style="min-height: 450px;">
                    <div style="text-align: left;">
                        <div style="display: flex;align-items: center;gap:10px;font-size: 14px;margin-top: 6px;">
                            <label style="display: flex;align-items: center;">
                                <span style="width: 100px;" data-i18n="bg_setting_cloud_sync">Sync across devices?</span>
                                <input type="checkbox" id="isCloudSync">
                            </label>
                            <button class="btn" style="flex: 1;" onclick="syncTheme()"
                                data-i18n="bg_setting_manual_sync">Manual Sync</button>
                        </div>
                        <p style="font-size: 14px">
                            <label style="display: flex;align-items: center;">
                                <span style="width: 100px;" data-i18n="bg_setting_enable_bg">Enable background image?</span>
                                <input type="checkbox" id="isCheckedBG">
                            </label>
                        </p>
                        <p style="display: flex;align-items: center;font-size: 14px;">
                            <span data-i18n="bg_setting_image_url">Image URL:</span>
                            <input placeholder="Enter URL" data-i18n-placeholder="bg_setting_input_url" type="text"
                                id="BG_INPUT" style="flex:1;padding: 6px 10px;margin: 4px 0;">
                        </p>
                        <label>
                            <input id="fileUploader" type="file" style="display: none;"
                                onchange="handleFileUpload(event)">
                            <button style="width: 100%;" onclick="document.querySelector('#fileUploader').click()"
                                data-i18n="bg_setting_upload">Upload Image (<=10MB)</button>
                        </label>
                    </div>

                    <div style="text-align: left;width: 100%;font-size: 14px;">
                        <p>
                            <label style="display: flex;align-items: center;">
                                <span data-i18n="bg_setting_blur_toggle">Home blur effect</span>&nbsp;
                                <input onchange="updateBlurSwitch(event)" id="blurSwitch" type="checkbox">
                            </label>
                        </p>
                        <p>
                            <label style="display: flex;align-items: center;">
                                <span data-i18n="bg_setting_overlay_color">Background overlay</span>&nbsp;
                                <input onchange="updateOverlaySwitch(event)" id="overlaySwitch" type="checkbox">
                            </label>
                        </p>
                        <p><span data-i18n="bg_setting_text_color">Text color (black-white)</span>&nbsp;:&nbsp;<span
                                id="fontColorValue"></span></p>
                        <input id="textColorEl" oninput="updateTextColor(event)"
                            style="width: 100%;margin-left: 0;margin-right: 0;" min="0" max="100" type="range">
                        <p data-i18n="bg_setting_theme_color">Theme color (hue, saturation, lightness)</p>
                        <p>H: <span id="HValue">255</span>&nbsp;&nbsp;S: <span id="SValue">255</span>&nbsp;&nbsp;L: <span
                                id="LValue">255</span></p>
                        <div class="color-panel"></div>
                        <input id="colorEl" oninput="getColorByPercent(event)"
                            style="width: 100%;margin-left: 0;margin-right: 0;" min="0" max="100" type="range">
                        <input id="saturationEl" oninput="getSaturationByPercent(event)"
                            style="width: 100%;margin-left: 0;margin-right: 0;" min="0" max="100" type="range">
                        <input id="brightEl" oninput="getValueByPercent(event)"
                            style="width: 100%;margin-left: 0;margin-right: 0;" min="0" max="100" type="range">
                        <p><span data-i18n="bg_setting_opacity">Theme Opacity</span>&nbsp;:&nbsp;<span
                                id="opacityValue">255</span></p>
                        <input id="opacityEl" oninput="getOpacityByPercent(event)"
                            style="width: 100%;margin-left: 0;margin-right: 0;" type="range" min="0" max="100">
                    </div>
                </div>
                <div class="btn" style="text-align: right;margin-top: 6px;">
                    <button type="button" onclick="resetTheme(event)" data-i18n="reset_theme_btn">Reset Theme</button>
                    <button type="button" onclick="handleSubmitBg(event)" data-i18n="submit_btn">Submit</button>
                    <button type="button" onclick="closeModal('#bgSettingModal')" data-i18n="close_btn">Close</button>
                </div>
            </div>
            <!-- Plugin Modal -->
            <div class="mask" id="PluginModal" style="display: none;">
                <div class="modal" id="pluginDropZone"
                    style="backdrop-filter: none;-webkit-backdrop-filter: none;padding: 18px;border: 2px solid transparent;overflow: hidden;width: 90%;max-width: 400px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 4px;"><span data-i18n="plugin_modal_title">Plugins</span> -
                        <span data-i18n="plugin_modal_num">Count:</span><span id="PLUGINS_NUM">?</span>
                    </div>
                    <div class="content" style="min-height: 400px;">
                        <div style="text-align: left;width: 100%;font-size: 14px;">
                            <div class="title" data-i18n="plugin_modal_tip" style="font-style: italic;font-size: 12px;">
                                <i>The content you enter is appended to the end of the page head (supports script/style/meta elements). Size must not exceed 1145KB.</i>
                            </div>
                            <div>
                                <input type="file" id="pluginFileInput" style="display: none;"
                                    onchange="handlePluginFileUpload(event)">
                                <div style="display: flex;gap: 10px;">
                                    <button class="btn" data-i18n="plugin_modal_add_plugin_btn"
                                        style="width: 100%;margin-top: 6px;"
                                        onclick="onPluginBtn()">Add Plugin (.txt file)</button>
                                    <button id="plugin_store_btn" class="btn" style="width: 100%;margin-top: 6px;"
                                        data-i18n="plugin_store">Plugin Store</button>
                                </div>
                                <div style="display: flex;gap: 10px;">
                                    <button class="btn" data-i18n="plugin_modal_export_btn"
                                        style="flex:1;margin-top: 6px;" onclick="pluginExport()">Export Plugin File</button>
                                    <button class="btn" data-i18n="plugin_modal_clear_btn" style="margin-top: 6px;"
                                        onclick="clearPluginText()">Clear All</button>
                                </div>
                            </div>
                            <ul id="sortable-list" class="plugin-list"
                                style="margin-top: 10px;display: flex;gap:6px;flex-wrap: wrap;font-size: 12px;">
                            </ul>
                            <textarea disabled id="custom_head" placeholder="Plugin content..."
                                data-i18n-placeholder="plugin_modal_textarea_placeholder"
                                style="font-size: 12px;font-family: monospace;margin: 6px 0;resize: vertical;width: 100%;box-sizing: border-box;"
                                rows="20"></textarea>
                        </div>
                    </div>

                    <div class="btn" style="text-align: right;margin-top: 6px;">
                        <button type="button" data-i18n="plugin_modal_submit_btn"
                            onclick="savePluginSetting(event)">Submit</button>
                        <button type="button" data-i18n="plugin_modal_close_btn"
                            onclick="closeModal('#PluginModal')">Close</button>
                    </div>
                </div>
            </div>
            <!-- Plugin Store Modal -->
            <div id="plugin_store" class="mask" style="display: none">
                <div class="modal"
                    style="backdrop-filter: none;-webkit-backdrop-filter: none;overflow: visible;width: 90%;max-width: 500px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 10px;"><span data-i18n="plugin_store">Plugin Store</span> - <span
                            class="total"></span></div>
                    <div class="title" style="display: block;font-size: .7rem;font-style: italic;margin-bottom: 10px;">
                        <span data-i18n="plugin_store_tip">The plugin store offers more plugin features. You can download and install them here.</span><br>
                        <span data-i18n="plugin_store_tip1"
                            style="color: rgb(255, 162, 0);">Note: Installing plugins may affect device performance and stability. Choose carefully.</span><br>
                        <span data-i18n="plugin_store_tip2">Some plugins require enabling advanced features.</span>
                    </div>
                    <div class="searchBox">
                        <input onkeyup="handlePluginStoreSearchInput(event)" style="padding-left: 6px;width: 100%;"
                            type="text" placeholder="Search plugins" id="pluginSearchInput"
                            data-i18n-placeholder="plugin_search_placeholder">
                        <button id="pluginSearchResetBtn" style="width: fit-content;min-width: 50px;" class="btn"
                            data-i18n="plugin_search_reset_btn">Reset</button>
                        <button id="pluginSearchBtn" style="width: fit-content;min-width: 50px;" class="btn"
                            data-i18n="plugin_search_btn">Search</button>
                    </div>
                    <div class="content" style="max-height: 500px;overflow-y: auto;">
                        <ul class="plugin-items">
                        </ul>
                    </div>
                    <div style="font-size: .8rem;margin-top: 10px;display: flex;align-items: center;">
                        <div class="left" style="flex:1">
                            <span data-i18n="cur_page">Current</span>&nbsp;
                            <span id="plugin_store_cur_page">1</span>
                            /
                            <span id="plugin_store_total_page">8</span>
                            &nbsp;<span data-i18n="total">Total</span>
                            <button style="margin-left: 10px;" data-i18n="prev_page"
                                id="plugin_store_prev_page">Prev</button>
                            <button id="plugin_store_next_page" data-i18n="next_page">Next</button>
                        </div>
                        <button id="plugin_store_close_btn" data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>
            <!-- Edit Plugin Modal -->
            <div class="mask" id="editSinglePluginModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 400px; display: flex;flex-direction: column;">
                    <div class="title" style="display: flex;justify-content: space-between;margin-bottom: 4px;">
                        <span data-i18n="edit_plugin">Edit Plugin</span>
                        <div>
                            <button data-i18n="off" onclick="disablePlugin()">Disable</button>
                            <button data-i18n="on" onclick="enablePlugin()">Enable</button>
                        </div>
                    </div>
                    <p style="font-size: 14px;"><span data-i18n="plugin_current">Current Plugin</span>: <span
                            id="currentPluginName"></span></p>
                    <div class="content" style="min-height: 400px;">
                        <textarea id="editSinglePlugin" style="width: 100%;box-sizing: border-box;min-height: 390px;"
                            name="" id=""></textarea>
                    </div>
                    <div class="btn" style="text-align: right;margin-top: 6px;">
                        <button id="submitEditSinglePlugin" data-i18n="submit_btn">Submit</button>
                        <button onclick="closeModal('#editSinglePluginModal')" data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>

            <!-- Scheduled Reboot Modal -->
            <div class="mask" id="scheduleRebootModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 400px; display: flex;flex-direction: column;">
                    <form id="scheduleRebootForm" onsubmit="handleScheduleRebootFormSubmit(event)">
                        <div class="title" style="margin-bottom: 4px;" data-i18n="schedule_reboot_title">Daily Scheduled Reboot</div>
                        <div style="text-align: left;font-size: 14px;">
                            <p>
                                <label>
                                    <span data-i18n="schedule_reboot_enable">Enable daily scheduled reboot?</span>
                                    <input id="SCHEDULE_ENABLED" type="checkbox" name="restart_schedule_switch">
                                </label>
                            </p>
                            <p>
                                <label data-i18n="schedule_reboot_time">Daily reboot time:</label>
                                <input id="SCHEDULE_TIME" name="restart_time" placeholder="00:00"
                                    data-i18n-placeholder="schedule_reboot_time_placeholder" type="text"
                                    style="width: 100%;max-width: 60px;padding: 6px 10px;margin: 4px 0;">
                            </p>
                        </div>
                        <div class="btn" style="text-align: right;margin-top: 6px;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" onclick="closeModal('#scheduleRebootModal')"
                                data-i18n="close_btn">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- TTYD Modal -->
            <div class="mask" id="TTYDModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 400px; display: flex;flex-direction: column;">
                    <form id="TTYDForm" onsubmit="handleTTYDFormSubmit(event)">
                        <div class="title" style="margin-bottom: 4px;">Development Menu</div>
                        <div style="text-align: left;margin-top: 10px;font-size: .8rem;">
                            <div style="font-size: .75rem;margin-bottom: 10px;" class="title"><i>Some options need
                                    advanced function</i>
                            </div>
                            <div style="display: flex;gap: 10px;;">
                                <label style="display: flex;align-items: center;">
                                    Boot up <input type="checkbox" name="" id="dev_bootup">
                                </label>
                                <label style="display: flex;align-items: center;">
                                    Also IPV6 <input type="checkbox" name="" id="dev_ipv6">
                                </label>
                            </div>
                            <div style="display: flex;gap: 10px;margin: 10px 0;">
                                <input placeholder="1234" id="port_iptables" style="padding: 6px;flex: 1;width: 100%;"
                                    type="number">
                                <button onclick="event.preventDefault();setPort(true)">Accept</button>
                                <button onclick="event.preventDefault();setPort(false)">Deny</button>
                            </div>
                            <hr style="background-color: pink;"/>
                            <div style="display: flex;gap: 10px;margin: 10px 0;">
                                <button style="width: 100%;" onclick="event.preventDefault();toggleTTYD(true)">Enable
                                    TTYD</button>
                                <button style="width: 100%;" onclick="event.preventDefault();toggleTTYD(false)">Disable
                                    TTYD</button>
                            </div>
                            <div style="display: flex;gap: 10px;margin: 10px 0;">
                                <button style="width: 100%;" onclick="event.preventDefault();toggleADBIP(true)">Enable
                                    ADB
                                    5555</button>
                                <button style="width: 100%;" onclick="event.preventDefault();toggleADBIP(false)">Disable
                                    ADB
                                    5555</button>
                            </div>
                            <div style="display: flex;gap: 10px;margin: 10px 0;">
                                <button style="width: 100%;" onclick="event.preventDefault();toggleLogCat(true)">Enable
                                    LogCat</button>
                                <button style="width: 100%;"
                                    onclick="event.preventDefault();toggleLogCat(false)">Disable LogCat
                                </button>
                            </div>
                            <p style="display: flex;flex-wrap: nowrap;align-items: center;gap: 4px;">TTYD Port
                                (default:1146): <input name="ttyd_port" placeholder="1145" type="number" id="TTYD_INPUT"
                                    style="text-align: center;width: 100%;;flex:1;padding: 6px 10px;margin: 4px 0;">
                                <button type="submit" data-i18n="submit_btn">Submit</button>
                            </p>
                            <p style="display: flex;flex-wrap: nowrap;align-items: center;gap: 4px;">Res Server: <input
                                    name="resources_server" placeholder="https://pan.kanokano.cn" type="text"
                                    id="RES_SERVER_INPUT"
                                    style="text-align: center;width: 100%;flex:1;padding: 6px 10px;margin: 4px 0;">
                                <button data-i18n="submit_btn" onclick="changeResServer(event)">Submit</button>
                            </p>
                            <button onclick="event.preventDefault();resetTTYDPort()">RESET TTYD PORT</button>
                            <button class="btn" onclick="OP(event)">?</button>
                        </div>
                        <div class="btn" style="text-align: right;margin-top: 6px;">
                            <button type="button" data-i18n="close_btn" onclick="closeModal('#TTYDModal')">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- AT Command Modal -->
            <div class="mask" id="ATModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 800px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="at_title">AT Commands</div>

                    <div class="title" style="margin-bottom: 4px;font-size: 12px;">
                        <div style="font-size: 10px;">
                            <i style="color: yellow;" data-i18n="at_warning_1">
                                âš ï¸ Warning: Executing custom AT commands is an advanced operation. Ensure your input is correct. You are responsible for any consequences.
                            </i><br>
                            <i style="color: yellow;" data-i18n="at_warning_2">
                                âš ï¸ Tip: AT commands (same as network ADB) supported versions: F50: B09/B24, U30: B17/B19, M3: B07.
                                If it doesn't work, include your firmware version when asking (a factory reset solves 99% of issues).
                            </i>
                        </div>
                    </div>

                    <p style="font-size: 12px;margin-bottom: 0;margin-top:10px;" data-i18n="at_custom_title">Custom AT Commands</p>

                    <div style="margin: 6px 0;">
                        <span style="font-size: 12px;" data-i18n="at_slot_label">AT Execution Slot:</span>
                        <select class="select" id="AT_SLOT" style="width: 100%;max-width: 100px;padding: 6px 10px;"
                            value="0">
                            <option data-value="0" value="0">0</option>
                            <option data-value="1" value="1">1</option>
                        </select>
                    </div>

                    <div style="text-align: left">
                        <div style="margin-bottom: 0;">
                            <input name="at_text" placeholder="Command starting with AT+" type="text" id="AT_INPUT"
                                data-i18n-placeholder="at_input_placeholder"
                                style="width: 100%;max-width: 200px;padding: 6px 10px;margin: 4px 0;">
                            <button class="btn" data-i18n="at_exec_btn"
                                onclick="disableButtonWhenExecuteFunc(event,handleATFormSubmit)">GO</button>
                        </div>

                        <div style="margin-top: 2px;margin-bottom: 10px;">
                            <div style="display: flex;flex-wrap: wrap; gap: 10px;">
                                <div>
                                    <p style="font-size: 12px;margin-bottom: 4px;margin-top: 4px;"
                                        data-i18n="at_quick_label">Quick Commands</p>
                                    <button class="btn" onclick="disableButtonWhenExecuteFunc(event,handleQosAT)"
                                        data-i18n="at_qos">Subscribed Rate</button>
                                    <button class="btn"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleAT('AT+CGSN'))"
                                        data-i18n="at_imei">IMEI</button>
                                    <button class="btn"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleForceIMEI())"
                                        data-i18n="at_force_imei">Force IMEI Lookup</button>
                                    <button class="btn" style="margin-top: 6px;"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>inputIMEIAT())"
                                        data-i18n="at_fill_imei">Insert IMEI Change Command</button>
                                    <button class="btn"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleAT('AT+CGMR'))"
                                        data-i18n="at_modem">Modem Info</button>
                                    <button class="btn"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleAT('AT+CFUN=1,1'))"
                                        data-i18n="at_modem_reboot">Reboot Modem</button>
                                    <button class="btn" style="margin-top: 6px;"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleAT('AT+CIMI'))"
                                        data-i18n="at_imsi">IMSI</button>
                                    <button class="btn" style="margin-top: 6px;" id="highRailModeBtn"
                                        onclick="disableButtonWhenExecuteFunc(event,()=>handleHighRailMode(event))"
                                        data-i18n="at_high_rail_mode">High Rail Mode</button>
                                </div>
                            </div>
                        </div>

                        <div class="title" style="margin-top: 14px;" data-i18n="at_result_title">Result</div>
                        <p id="AT_RESULT" style="margin:20px 0;margin-top: 14px;; font-size: 14px;width: 100%;">
                            <!-- +CGEQOSRDP: 1,6,0,0,0,0,1000000,300000 -->
                        </p>
                    </div>

                    <div class="btn" style="text-align: right;margin-top: 6px;">
                        <button type="button" data-i18n="close_btn" onclick="closeModal('#ATModal')">Close</button>
                    </div>
                </div>
            </div>
            <!-- Advanced Features Modal -->
            <div class="mask" id="advanceModal" style="display: none">
                <div class="modal" style="width: 90%;max-width: 800px; display: flex;flex-direction: column;">
                    <div class="title" style="margin-bottom: 4px;" data-i18n="advance_title">Advanced Features</div>

                    <div class="content" style="text-align: left;max-height: 500px;">
                        <div class="title" style="margin-bottom: 4px;font-size: 12px;">
                            <b style="color: red;">
                                <i data-i18n="advance_warning">
                                    âš ï¸ Warning: This feature is intended for experienced users familiar with the device. Regular users should not try it casually, as it may cause device issues, data loss, or unrecoverable problems.
                                </i>
                            </b>
                        </div>

                        <div style="margin-top: 2px;margin-bottom: 10px;">
                            <div style="display: flex;flex-wrap: wrap; gap: 10px;">
                                <div>
                                    <div class="title" style="font-size: 11px;margin-bottom: 10px;">
                                        <div data-i18n="advance_feature_list">
                                            <b>Note: After enabling Advanced Features, do not disable File Sharing, otherwise Advanced Features will stop working.</b><br>
                                            <i class="user_select">If you see errors when removing Advanced Features, run <span class="user_select">sh /sdcard/unlock_samba.sh</span> in TTYD, then reboot to apply.</i>
                                            <i><br>Advanced Features include:<br>
                                                1. Optimize Samba directories (add SD card directory and device root directory)<br>
                                                2. Add TTYD with built-in RootShell<br>
                                                3. Block official background IPv6 access to TTYD / network ADB / SMB by default to improve security<br>
                                                4. Add scheduled script (runs about every 30s; script is ufi_tools_schedule.sh in internal storage)<br>
                                                5. Add boot script (script is ufi_tools_boot.sh in internal storage)<br>
                                                <span style="color: pink;">(Thanks to Coolapk users @QuTick @AiCherub @atwat for the ideas)</span>
                                            </i>
                                        </div>
                                    </div>

                                    <div id="socat_status" class="title"
                                        style="font-size: 12px;margin: 8px 0;margin-bottom: 0;"></div>
                                    <div class="adb_status title" style="font-size: 12px;margin: 4px 0;margin-top: 0;">
                                    </div>
                                    <div class="advanced-btns">
                                        <button class="btn"
                                            onclick="disableButtonWhenExecuteFunc(event,()=>handleSambaPath())"
                                            data-i18n="advance_add">Add Advanced Features</button>
                                        <button class="btn"
                                            onclick="disableButtonWhenExecuteFunc(event,()=>handleSambaPath('0'))"
                                            data-i18n="advance_remove">Remove Advanced Features (reboot to apply)</button>
                                        <button class="btn"
                                            onclick="disableButtonWhenExecuteFunc(event,handleDisableFOTA)"
                                            data-i18n="advance_disable_update">Disable Updates</button>
                                        <button class="btn" onclick="disableButtonWhenExecuteFunc(event,handleShell)"
                                            data-i18n="advance_run_shell">Run shell script (non-root)<br>(script must be at /sdcard/one_click_shell.sh)</button>
                                        <button class="btn"
                                            onclick="disableButtonWhenExecuteFunc(event,()=>switchCpuCore(false))"
                                            data-i18n="advance_disable_little_core">Disable little cores</button>
                                        <button class="btn"
                                            onclick="disableButtonWhenExecuteFunc(event,()=>switchCpuCore(true))"
                                            data-i18n="advance_enable_little_core">Enable little cores</button>
                                        <button class="btn" onclick="disableButtonWhenExecuteFunc(event,()=>getBoot())"
                                            data-i18n="advance_dump_boot">Dump Boot</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="title" style="margin-top: 14px;" data-i18n="advance_result">Result</div>
                        <p id="AD_RESULT" style="margin:20px 0;margin-top: 14px; font-size: 14px;width: 100%;"></p>
                    </div>

                    <div class="btn" style="text-align: right;margin-top: 6px;">
                        <button type="button" data-i18n="close_btn" onclick="closeAdvanceToolsModal()">Close</button>
                    </div>
                </div>
            </div>
            <!-- Change Password Modal -->
            <div class="mask" id="changePassModal" style="display: none">
                <div class="modal">
                    <div class="title" data-i18n="change_password_title">Change Password (ZTE Web Password)</div>
                    <form onsubmit="handleChangePassword(event)" id="changePassForm">
                        <input type="text" autocomplete="username" name="username" value="admin" style="display: none;">
                        <div class="content" style="overflow-y: scroll; padding: 15px; width: 66vw; max-width: 400px;">
                            <div class="item" style="margin: 10px auto;">
                                <label style="display: flex; align-items: center;">
                                    <span style="flex: 1;" data-i18n="old_password">Old Password:</span>
                                    <input style="flex: 1;padding: 4px 6px;width: 100%;" name="oldPassword"
                                        type="password" placeholder="Old password" autocomplete="current-password"
                                        data-i18n-placeholder="old_password_placeholder">
                                </label>
                            </div>
                            <div class="item" style="margin: 10px auto;">
                                <label style="display: flex; align-items: center;">
                                    <span style="flex: 1;" data-i18n="new_password">New Password:</span>
                                    <input style="flex: 1;padding: 4px 6px;width: 100%;" name="newPassword"
                                        type="password" placeholder="New password" autocomplete="new-password"
                                        data-i18n-placeholder="new_password_placeholder">
                                </label>
                            </div>
                            <div class="item" style="margin: 10px auto;">
                                <label style="display: flex; align-items: center;">
                                    <span style="flex: 1;" data-i18n="confirm_password">Confirm Password:</span>
                                    <input style="flex: 1;padding: 4px 6px;width: 100%;" name="confirmPassword"
                                        type="password" placeholder="Confirm password" autocomplete="new-password"
                                        data-i18n-placeholder="confirm_password_placeholder">
                                </label>
                            </div>
                        </div>
                        <div class="btn" style="text-align: right;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" onclick="onCloseChangePassForm()" data-i18n="close_btn">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- Change Token Modal -->
            <div class="mask" id="changeTokenModal" style="display: none">
                <div class="modal">
                    <div class="title" data-i18n="change_token_title">Change Login Token</div>

                    <div class="title" style="margin-top: 10px;font-size: .7rem;" data-i18n="token_change_notice">Minimum 8 characters; must include letters and numbers.</div>
                    <form onsubmit="handleChangeToken(event)" id="changeTokenForm">
                        <div class="content" style="overflow-y: scroll; padding: 15px; width: 66vw; max-width: 400px;">
                            <div class="item" style="margin: 10px auto;">
                                <label style="display: flex; align-items: center;">
                                    <span style="flex: 1;" data-i18n="new_token">New Token:</span>
                                    <input style="flex: 1;padding: 4px 6px;width: 100%;" name="newToken" type="password"
                                        placeholder="New token" autocomplete="new-token"
                                        data-i18n-placeholder="new_token_placeholder">
                                </label>
                            </div>
                            <div class="item" style="margin: 10px auto;">
                                <label style="display: flex; align-items: center;">
                                    <span style="flex: 1;" data-i18n="confirm_token">Confirm Token:</span>
                                    <input style="flex: 1;padding: 4px 6px;width: 100%;" name="confirmToken"
                                        type="password" placeholder="Confirm token" autocomplete="new-token"
                                        data-i18n-placeholder="confirm_token_placeholder">
                                </label>
                            </div>
                        </div>
                        <div class="btn" style="text-align: right;">
                            <button type="submit" data-i18n="submit_btn">Submit</button>
                            <button type="button" onclick="onCloseChangeTokenForm()" data-i18n="close_btn">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- LAN Speed Test Modal -->
            <div class="modal" id="speedTestModal" style="display: none">
                <div class="title" data-i18n="modal_speedtest_title">LAN Speed Test (inaccurate)</div>

                <div class="content" style="overflow-y: scroll; padding: 15px; width: 66vw; max-width: 400px;">
                    <div class="item" style="margin: 10px auto;">
                        <label style="display: flex; font-size: 14px; align-items: center;">
                            <span data-i18n="speedtest_block_size_label">Block size (1MB, max 1024):</span>
                            <input style="flex: 1;padding: 4px 6px;width: 100%;" value="500" id="ckSize" type="number"
                                max="1024">
                        </label>
                    </div>
                    <div class="speedtest" id="speedtestResult" data-i18n="speedtest_ready">Ready</div>
                </div>

                <div class="btn" style="text-align: right;">
                    <button id="startSpeedBtn" onclick="startTest(event)" data-i18n="speedtest_start_btn">Start Test</button>
                    <button id="loopMode" onclick="handleLoopMode(event)" data-i18n="speedtest_loop_btn">Loop Test</button>
                    <button type="button" onclick="closeModal('#speedTestModal')" data-i18n="close_btn">Close</button>
                </div>
            </div>
            <!-- Custom Speed Test -->
            <div class="modal" id="CellularTestModal" style="display: none">
                <div class="title" data-i18n="cellular_speed_test">Data Speed Test</div>
                <div class="title" style="font-size: 12px;margin-top: 10px;"><i
                        data-i18n="cellular_speed_test_notice">Speed test is proxied via LAN; results are for reference only.</i></div>
                <div class="content" style="overflow-y: scroll; padding: 10px; width: 66vw; max-width: 400px;">
                    <div class="item" style="margin: 10px auto;">
                        <label style="display: flex; font-size: 14px; align-items: center;">
                            <span data-i18n="cellular_speed_test_url">Test URL:</span>
                            <input onchange="saveCellularTestUrl(event)" style="flex: 1;padding: 4px 6px;width: 100%;"
                                id="CellularTestUrl" type="text">
                        </label>
                        <div style="margin-top: 10px;;display: flex; font-size: 14px; align-items: center;">
                            <span data-i18n="cellular_speed_test_thread">Threads:</span>
                            <span id="thread_num" style="padding-right: 6px;">1</span>
                            <input value="1" oninput="onThreadNumChange(event)" style="flex:1" type="range" min="1"
                                max="5" name="" id="">
                        </div>
                    </div>
                    <div class="speedtest" id="CellularTestResult" data-i18n="cellular_speed_test_prepared">Ready</div>
                </div>

                <div class="btn" style="text-align: right;">
                    <button id="startSpeedBtn" onclick="runSingleTest(event)"
                        data-i18n="speedtest_start_btn">Start Test</button>
                    <button id="loopMode" onclick="handleCellularLoopMode(event)"
                        data-i18n="speedtest_loop_btn">Loop Test</button>
                    <button type="button" onclick="closeCellularTest('#CellularTestModal')"
                        data-i18n="close_btn">Close</button>
                </div>
            </div>
            <!-- USB Status -->
            <div class="modal" id="USBStatusModal" style="display: none;">
                <div class="title" data-i18n="usb_status">USB Status</div>
                <div class="title" style="font-size: 12px;margin: 10px 0"><i
                        data-i18n="usb_status_notice">Only shows devices connected to the Type-C port; data is for reference only.</i></div>
                <div class="content"
                    style="font-size: .7rem;overflow-y: auto; padding: 10px 0;margin-bottom: 10px;; width: 66vw; max-width: 500px;">
                </div>

                <div class="btn" style="text-align: right;">
                    <button type="button" onclick="closeUSBStatusModal('#USBStatusModal')" data-i18n="close_btn">Close</button>
                </div>
            </div>
            <!-- SMS Forward Modal -->
            <div class="mask" id="smsForwardModal" style="display: none">
                <div class="modal">
                    <div class="title" style="justify-content: space-between;"><span
                            data-i18n="sms_forward_title">SMS Forward (Beta)</span> <button type="button"
                            onclick="closeModal('#smsForwardModal')" data-i18n="close_btn">Close</button></div>
                    <span data-i18n="sms_forward_toggle">Master switch:</span>
                    <div style="margin-top: 8px;display: inline-block;" id="collapse_smsforward_btn"></div>
                    <!-- tab -->
                    <div class="tabs" onclick="switchSmsForwardMethodTab(event)"
                        style="width: 100%;display: flex;margin-top: 10px;gap: 10px;">
                        <button id="smtp_btn" data-method="smtp" id="smtpForwardBtn" style="flex: 1;" class="tab-btn"
                            data-i18n="smtp_method">SMTP</button>
                        <button id="curl_btn" data-method="curl" id="curlForwardBtn" style="flex: 1;" class="tab-btn"
                            data-i18n="curl_method">cURL</button>
                        <button id="dingtalk_btn" data-method="dingtalk" id="dingtalkForwardBtn" style="flex: 1;"
                            class="tab-btn" data-i18n="dingtalk_method">DingTalk</button>
                    </div>
                    <div id="collapse_smsforward" class="collapse">
                        <div class="collapse_box">
                            <!-- SMTP forward -->
                            <form onsubmit="handleSmsForwardForm(event)" id="smsForwardForm">
                                <div class="content" style="
                        overflow-y: scroll;
                        padding: 15px;
                        width: 66vw;
                        max-width: 400px;">
                                    <div class="title" style="font-size: 12px;" data-i18n="smtp_hint">The recipient email can be the same as the sender email.</div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="smtp_host">Host:</span><input
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="smtp_host"
                                                name="smtp_host" type="text" placeholder="smtp.xxx.com"></label>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="smtp_port">Port:</span><input
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="smtp_port"
                                                name="smtp_port" type="number" placeholder="465"></label>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="smtp_username">Username:</span><input
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="smtp_username"
                                                name="smtp_username" type="text" placeholder="example@xx.com"></label>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="smtp_password">Password:</span><input autocomplete="off"
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="smtp_password"
                                                name="smtp_password" type="password" placeholder=""></label>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="smtp_to">To:</span><input style="flex: 1;padding: 4px 6px;width: 100%;"
                                                id="smtp_to" name="smtp_to" type="email"
                                                placeholder="to@xxx.com"></label>
                                    </div>
                                </div>
                                <div class="btn" style="text-align: right;">
                                    <button type="submit" data-i18n="submit_btn">Submit</button>
                                    <button type="button" data-i18n="close_btn"
                                        onclick="closeModal('#smsForwardModal')">Close</button>
                                </div>
                            </form>
                            <!-- cURL request forward -->
                            <form onsubmit="handleSmsForwardCurlForm(event)" id="smsForwardCurlForm"
                                style="display: none;">
                                <div class="content" style="
                                    overflow-y: scroll;
                                    padding: 15px;
                                    width: 66vw;
                                    max-width: 400px;">
                                    <div class="title user_select" style="display:block;font-size: 12px;">
                                        <span data-i18n="curl_hint">Note: Enter the command in one go. Don't insert newlines or use \\ to continue, and mind the spaces between arguments.
                                            SMS placeholders:</span>
                                        <span onclick="copyText(event)">{{sms-body}} {{sms-time}}
                                            {{sms-from}}</span>
                                    </div>
                                    <div style="display: flex;gap: 10px;margin-top: 10px;">
                                        <button style="width: 100%;"
                                            onclick="event.preventDefault();fillCurl('tg')">Telegram</button>
                                        <button style="width: 100%;" onclick="event.preventDefault();fillCurl('wechat')"
                                            data-i18n="wechat_group">WeCom</button>
                                        <button style="width: 100%;"
                                            onclick="event.preventDefault();fillCurl('pushplus')">PushPlus</button>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <div style="
                                display: flex;
                                align-items: center;
                            ">
                                            <textarea rows="10" style="flex: 1;padding: 4px 6px;width: 100%;"
                                                id="curl_text" name="curl_text" type="text"
                                                placeholder="curl 'https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx'"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="btn" style="text-align: right;">
                                    <button type="submit">Submit</button>
                                    <button type="button" onclick="closeModal('#smsForwardModal')">Close</button>
                                </div>
                            </form>
                            <!-- DingTalk webhook forward -->
                            <form onsubmit="handleSmsForwardDingTalkForm(event)" id="smsForwardDingTalkForm"
                                style="display: none;">
                                <div class="content" style="
                                    overflow-y: scroll;
                                    padding: 15px;
                                    width: 66vw;
                                    max-width: 400px;">
                                    <div class="title" style="font-size: 12px;" data-i18n="dingtalk_hint">Configure the DingTalk group bot webhook URL. Signature security is supported.</div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="dingtalk_webhook"
                                                style="display: inline-block; width:110px;font-size: 14px;">Webhook URL:</span><input
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="dingtalk_webhook"
                                                name="dingtalk_webhook" type="text"
                                                placeholder="https://oapi.dingtalk.com/robot/send?access_token=xxx"></label>
                                    </div>
                                    <div class="item" style="margin: 10px auto;">
                                        <label style="
                                display: flex;
                                align-items: center;
                            "><span data-i18n="dingtalk_secret"
                                                style="display: inline-block; width:110px;font-size: 14px;">Signature secret:</span><input
                                                style="flex: 1;padding: 4px 6px;width: 100%;" id="dingtalk_secret"
                                                name="dingtalk_secret" type="text"
                                                placeholder="SEC000000000000000000000" optional></label>
                                    </div>
                                </div>
                                <div class="btn" style="text-align: right;">
                                    <button type="submit">Submit</button>
                                    <button type="button" onclick="closeModal('#smsForwardModal')">Close</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>

            <!-- APN Settings Modal -->
            <div class="mask user_select_none" id="APNManagementModal" style="display: none">
                <form id="APNManagementForm" class="modal"
                    style="max-width: 440px;display: block;box-sizing: border-box;">
                    <div class="title" data-i18n="apn_setting">APN Settings</div>
                    <div class="title" style="font-style: italic;;font-size: .62rem;margin-top: 10px;"
                        data-i18n="apn_title_info">
                        Access Point Name (APN) is used for your device to connect to the carrier network. This
                        information is automatically matched based on your SIM card. If you cannot access the
                        Internet, try modifying these parameters. Please contact your local carrier for details.
                    </div>
                    <div class="content flex"
                        style="flex-direction: column;gap: 10px;overflow-y: scroll; padding: 10px 0;font-size: 14px; width: 66vw; max-width: 400px;">
                        <div class="flex" style="gap: 15px;">
                            <span data-i18n="current_apn">Current APN</span><span name="apn_wan_apn"></span>
                        </div>
                        <div class="flex" style="gap: 10px;">
                            <span data-i18n="auto_apn">Auto APN</span>
                            <label class="flex items-center"><input id="autoAPNMode"
                                    onclick="onChangeIsAutoFrofile(true)" name="apn_mode" type="radio" checked><span
                                    data-i18n="auto">Auto</span></label>
                            <label class="flex items-center"><input id="apnMode" onclick="onChangeIsAutoFrofile(false)"
                                    name="apn_mode" type="radio"><span data-i18n="manual">Manual</span></label>
                        </div>
                        <div id="autoProfileEl" class="flex items-center" style="gap: 10px;">
                            <span data-i18n="profile">Profile</span>
                            <div class="profileItems flex items-center" style="flex-wrap: wrap;flex: 1;gap: 10px;">
                                <div style="flex: 1">
                                    <select class="select" style="min-width: 100px;width: 100%;" name="autoProfile"
                                        id="autoProfile">
                                    </select>
                                </div>
                                <div class="options" style="justify-self: start;">
                                    <button class="btn" onclick="onViewAPNProfile(event)" data-i18n="view">View</button>
                                </div>
                            </div>
                        </div>
                        <div id="profileEl" class="flex items-center" style="display: none;gap: 10px;">
                            <span data-i18n="profile">Profile</span>
                            <div class="profileItems flex items-center" style="flex-wrap: wrap;flex: 1;gap: 10px;">
                                <div style="flex: 1">
                                    <select class="select" name="profile" style="min-width: 100px;width: 100%;"
                                        id="manualProfile">
                                    </select>
                                </div>
                                <div class="options">
                                    <button class="btn" id="addAPNProfile" data-i18n="add">Add</button>
                                    <button class="btn" id="editAPNProfile" data-i18n="edit">Edit</button>
                                    <button class="btn" id="delAPNProfile" data-i18n="del">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btn" style="text-align: right;">
                        <button name="submit" data-i18n="submit_btn">Submit</button>
                        <button type="button" onclick="closeModal('#APNManagementModal')"
                            data-i18n="close_btn">Close</button>
                    </div>
                </form>
            </div>

            <!-- APN View Modal -->
            <div class="mask user_select_none" id="APNViewModal" style="display: none">
                <div class="modal" style="max-width: 300px;display: block;box-sizing: border-box;">
                    <div class="title" data-i18n="apn_info">APN Info</div>
                    <div class="content flex"
                        style="flex-direction: column;gap: 10px;overflow-y: scroll; padding: 10px 0;font-size: 14px; width: 66vw; max-width: 400px;">
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="apn_name">Profile Name</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled
                                name="profile_name">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;">APN</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled name="apn">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="username">Username</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled name="username">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="password">Password</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled name="password">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="auth_type">Auth Type</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled
                                name="auth_method">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="pdp_type">PDP Type</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" disabled name="pdp_method">
                        </div>
                    </div>
                    <div class="btn" style="text-align: right;">
                        <button type="button"
                            onclick="closeModal('#APNViewModal',300,()=>{showModal('#APNManagementModal')})"
                            data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>

            <!-- Add/Edit APN -->
            <div class="mask user_select_none" id="APNEditModal" style="display: none">
                <div class="modal" style="max-width: 300px;display: block;box-sizing: border-box;">
                    <div class="title" id="APN_MOD_TITLE">APN</div>
                    <div class="content flex"
                        style="flex-direction: column;gap: 10px;overflow-y: scroll; padding: 10px 0;font-size: 14px; width: 66vw; max-width: 400px;">
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="profile_name">Profile Name</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" name="profile_name"
                                value="">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;">APN</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" name="apn" value="">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="username">Username</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" name="username" value="">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="password">Password</span>
                            <input class="fw max-150" style="padding: 6px 10px;" type="text" name="password" value="">
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="auth_type">Auth Type</span>
                            <select class="select fw max-150" name="auth_method" value="none">
                                <option value="none">NONE</option>
                                <option value="chap">CHAP</option>
                                <option value="pap">PAP</option>
                            </select>
                        </div>
                        <div class="flex items-center" style="gap: 10px;">
                            <span style="min-width: 80px;" data-i18n="pdp_type">PDP Type</span>
                            <select class="select fw max-150" name="pdp_method" value="IP">
                                <option value="IP">IPv4</option>
                                <option value="IPv6">IPv6</option>
                                <option value="IPv4v6">IPv4v6</option>
                            </select>
                        </div>
                    </div>
                    <div class="btn" style="text-align: right;">
                        <button name="submit" data-i18n="submit_btn">Submit</button>
                        <button type="button"
                            onclick="closeModal('#APNEditModal',300,()=>{showModal('#APNManagementModal')})"
                            data-i18n="close_btn">Close</button>
                    </div>
                </div>
            </div>

            <!-- â¤ï¸ -->
            <div class="mask" id="payModal" style="display: none" onclick="handleClosePayModal(event)">
                <div class="modal">
                    <div class="title" style="width: 100%;display: flex;justify-content:space-between;"><span
                            data-i18n="pay_title">Donate / Group Links</span>
                        <button type="button" onclick="onClosePayModal()" data-i18n="pay_btn_dismiss"
                            style="margin-right: 15px;">Don't show again</button>
                    </div>
                    <div class="title"
                        style="display: flex;align-items: center;margin-top: 10px;font-size: 12px;margin-bottom: 10px;">
                        <div>
                            <p style="margin: 0; font-style: italic;" data-i18n="pay_tip_1">Development isn't easyâ€”donations are appreciated.</p>
                            <p style="margin: 0; font-style: italic;" data-i18n="pay_tip_2">Press and hold the QR code to save it as an image.</p>
                        </div>
                    </div>
                    <div class="title" style="font-size: 14px;display: flex;flex-direction: column;">
                        <div style="display: flex;flex-wrap: wrap;gap: 10px;justify-content: center;">
                            <button><a href="https://t.me/ufi_tools_chat" target="_blank" data-i18n="tg_group">Join the Telegram group:
                                    @ufi_tools_chat</a></button>
                            <button><a href="https://t.me/ufi_tools" target="_blank" data-i18n="tg_channel">Telegram channel:
                                    @ufi_tools</a></button>
                        </div>
                        <button onclick="copyText(event)"><a
                                href="https://link.trustwallet.com/send?coin=60&address=0xdf0503f26D83214d1D4895fC13E8913f52F47607&token_id=0xdAC17F958D2ee523a2206206994597C13D831ec7">USDT</a>
                            0xdf0503f26D83214d1D4895fC13E8913f52F47607</button>

                    </div>
                    <div class="donate_content"
                        style="display: flex; flex-direction: row; justify-content: space-between; padding: 15px; width: 66vw; max-width: 400px; flex-wrap: wrap;">
                        <img src="https://api.kanokano.cn/pay/zsm.png" style="width: 48%; height: auto; border-radius: 20px;"
                            onerror="this.onerror=null; this.src='/img/zsm.png'" alt="">
                        <img src="/img/qq_group.png" style="width: 48%; height: auto; border-radius: 20px;"
                            onerror="this.onerror=null; this.src='/img/zsm.webp'" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <p>Made by <a href="https://github.com/kanoqwq/UFI-TOOLS" target="_blank">MiniKano</a> with love â¤ï¸&nbsp;<a
                href="javascript:;" onclick="showModal('#payModal')" data-i18n="pay_title">Donate</a></p>
    </div>

    <div class="toolbar">
        <div id="top_btn" class="top" onclick="scroolToTop()" style="display: none;opacity: 0;">
            <svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path fill="#ffffff"
                    d="M79.856 126.156V64.421h864.288v61.735H79.856z m61.735 432.146h30.867v-30.867h30.867v-30.867h30.867V465.7h30.867v-30.867h30.867v-30.87h30.867v-30.868h30.867V342.23h30.867v-30.867h30.867v-30.867h30.867v-30.867h30.867v-30.867h61.735v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.874v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.867v30.867h30.867v61.736H851.54v-30.867h-30.867v-30.868h-30.867V558.3H758.94v-30.867h-30.867v-30.867h-30.867v-30.867h-30.867v-30.867h-30.867v-30.868h-30.867v-30.867h-30.867V342.23H542.87v617.349h-61.738v-617.35h-30.867v30.867h-30.867v30.867h-30.867v30.867h-30.867v30.867h-30.867v30.867H295.93v30.867h-30.867v30.867h-30.867v30.867h-30.871v30.867h-30.867v30.867h-61.735v-61.735h30.867v-30.861z" />
            </svg>
        </div>
        <div class="refresh" onclick="location.reload()">
            <svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path fill="#ffffff"
                    d="M815.36 184.96V128a36.48 36.48 0 0 1 10.24-26.88 37.76 37.76 0 0 1 52.48 0 40.96 40.96 0 0 1 11.52 26.88v172.16a40.32 40.32 0 0 1-37.12 37.12h-173.44a40.32 40.32 0 0 1-26.88-11.52 37.76 37.76 0 0 1 0-52.48 35.84 35.84 0 0 1 26.88-10.24h108.8a372.48 372.48 0 0 0-453.12-75.52A367.36 367.36 0 0 0 170.24 364.8a374.4 374.4 0 0 0-19.84 242.56 369.92 369.92 0 0 0 132.48 202.24A375.04 375.04 0 0 0 512 888.32a368.64 368.64 0 0 0 263.68-108.8A376.32 376.32 0 0 0 885.12 512H960A448 448 0 1 1 136.32 270.08a438.4 438.4 0 0 1 192-164.48 444.16 444.16 0 0 1 256-32 455.68 455.68 0 0 1 230.4 111.36z" />
            </svg>
        </div>
    </div>
    <div id="toastContainer"></div>
    <script src="/script/draglist.js"></script>
    <script src="/script/i18n.js"></script>
    <script src="/script/utils.js"></script>
    <script src="/script/theme.js"></script>
    <script src="/script/charts.js"></script>
    <script src="/script/main.js"></script>
</body>

</html>